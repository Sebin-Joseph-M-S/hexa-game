<!DOCTYPE html>
<html class="dark" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Hexa Dynamic Gaming Dashboard</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<script>
tailwind.config = {
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        primary: "#2DD4BF",
        "hex-black": "#000000",
        "card-teal": "#32D4B5",
        "card-orange": "#FE763E",
        "card-blue": "#2E66FF",
      },
      fontFamily: {
        sans: ["Plus Jakarta Sans", "sans-serif"],
      },
    },
  },
};
</script>
<style type="text/tailwindcss">
@layer utilities {
  .material-symbols-outlined {
    font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
  }
  .angled-card-top {
    clip-path: polygon(0 0, 100% 0, 100% 80%, 0 100%);
  }
  .angled-card-middle {
    clip-path: polygon(0 20%, 100% 0, 100% 80%, 0 100%);
  }
  .angled-card-bottom {
    clip-path: polygon(0 20%, 100% 0, 100% 100%, 0 100%);
  }
}
body {
  background-color: #000000;
  color: white;
}
.dark body {
  background-color: #000000;
  color: white;
}
body:not(.dark body) {
  background-color: #ffffff;
  color: #000000;
}
</style>
</head>
<body class="bg-hex-black text-white antialiased">
<div class="flex h-screen overflow-hidden">
<aside class="w-20 lg:w-64 flex flex-col items-center lg:items-start p-6 bg-hex-black border-r border-white/10 z-20">
<div class="flex items-center gap-3 mb-12 px-2">
<div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center">
<span class="material-symbols-outlined text-black">pentagon</span>
</div>
<span class="text-2xl font-extrabold tracking-tighter hidden lg:block">HEXA</span>
</div>
<nav class="space-y-6 w-full">
<a class="flex items-center gap-4 p-2 text-white transition-all" href="/dashboard.html">
<span class="material-symbols-outlined">grid_view</span>
<span class="font-bold hidden lg:block">Dashboard</span>
</a>
<a class="flex items-center gap-4 p-2 text-white/40 hover:text-white transition-all" href="/map-new.html">
<span class="material-symbols-outlined">explore</span>
<span class="font-medium hidden lg:block">World Map</span>
</a>
<a class="flex items-center gap-4 p-2 text-white/40 hover:text-white transition-all" href="/items.html">
<span class="material-symbols-outlined">inventory_2</span>
<span class="font-medium hidden lg:block">Armory</span>
</a>
<a class="flex items-center gap-4 p-2 text-white/40 hover:text-white transition-all" href="/leaderboard-new.html">
<span class="material-symbols-outlined">leaderboard</span>
<span class="font-medium hidden lg:block">Ranks</span>
</a>
</nav>
<div class="mt-auto w-full pt-6">
<a class="flex items-center gap-4 p-2 text-white/40 hover:text-white transition-all mb-4" href="/settings.html">
<span class="material-symbols-outlined">settings</span>
<span class="font-medium hidden lg:block">Settings</span>
</a>
</div>
</aside>
<main class="flex-1 overflow-y-auto p-4 lg:p-10">
<header class="flex justify-between items-start mb-12 max-w-7xl mx-auto">
<div class="flex items-center gap-4">
<div class="w-14 h-14 rounded-full overflow-hidden border border-white/20 bg-primary flex items-center justify-center text-black font-bold text-2xl" id="headerAvatar">
U
</div>
<div>
<h2 class="text-white/60 text-lg font-medium leading-tight" id="headerUsername">Player</h2>
<p class="text-white/40 text-sm" id="headerLevel">Level 1 Commander</p>
</div>
</div>
<div class="flex gap-4">
<button class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center text-white relative">
<span class="material-symbols-outlined">notifications</span>
<span class="absolute top-3 right-3 w-2 h-2 bg-red-500 rounded-full"></span>
</button>
</div>
</header>
<div class="max-w-5xl mx-auto">
<div class="mb-10">
<h1 class="text-4xl lg:text-5xl font-bold tracking-tight mb-2">How is your Empire today?</h1>
<div class="flex justify-between items-center mt-8">
<p class="text-white/40 font-medium">Today's statistics</p>
<button class="flex items-center gap-2 text-white/40 text-sm font-medium">
<span id="currentDate"></span> <span class="material-symbols-outlined text-base">expand_more</span>
</button>
</div>
</div>
<div class="grid grid-cols-1 gap-2 mb-12">
<div class="relative h-48 lg:h-56 bg-card-teal rounded-3xl angled-card-top p-8 flex flex-col justify-between group overflow-hidden">
<div class="flex justify-between items-start">
<div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
<span class="material-symbols-outlined text-white">token</span>
</div>
<div class="text-right">
<h3 class="text-black font-bold text-2xl">Hexes Conquered</h3>
<p class="text-black/60 text-sm font-bold">90-100 TARGET</p>
</div>
</div>
<div class="flex justify-end items-baseline gap-2">
<span class="text-white text-6xl font-extrabold tracking-tighter" id="hexCount">0</span>
<span class="text-white/80 text-xl font-bold">HEX</span>
</div>
</div>
<div class="relative h-48 lg:h-56 bg-card-orange rounded-3xl angled-card-middle p-8 flex flex-col justify-between -mt-12 group overflow-hidden">
<div class="flex justify-between items-start">
<div class="text-left">
<h3 class="text-white font-bold text-2xl">Total Distance</h3>
<p class="text-white/60 text-sm font-bold uppercase">Goal 20km</p>
</div>
<div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
<span class="material-symbols-outlined text-white">route</span>
</div>
</div>
<div class="flex items-baseline gap-2">
<span class="text-white text-6xl font-extrabold tracking-tighter" id="distanceCount">0</span>
<span class="text-white/80 text-xl font-bold uppercase">km</span>
</div>
</div>
<div class="relative h-48 lg:h-56 bg-card-blue rounded-3xl angled-card-bottom p-8 flex flex-col justify-between -mt-12 group overflow-hidden">
<div class="flex justify-between items-start">
<div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
<span class="material-symbols-outlined text-white">bolt</span>
</div>
<div class="text-right">
<h3 class="text-white font-bold text-2xl">XP Gained</h3>
<p class="text-white/60 text-sm font-bold uppercase">1800 daily cap</p>
</div>
</div>
<div class="flex justify-end items-baseline gap-2">
<span class="text-white text-6xl font-extrabold tracking-tighter" id="expCount">0</span>
<span class="text-white/80 text-xl font-bold">XP</span>
</div>
</div>
</div>
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
<div class="bg-white/5 rounded-[2rem] p-8 border border-white/10">
<div class="flex justify-between items-center mb-6">
<h3 class="text-xl font-bold">Active Territory</h3>
<div class="bg-white/10 p-1 rounded-xl flex gap-1">
<button class="px-4 py-1.5 text-sm font-bold text-white/40">Satellite</button>
<button class="px-4 py-1.5 text-sm font-bold bg-primary text-black rounded-lg">Tactical</button>
</div>
</div>
<div class="relative h-64 rounded-2xl overflow-hidden bg-white/5">
<div class="absolute inset-0 flex items-center justify-center">
<div class="w-24 h-24 border-2 border-primary/40 rounded-full animate-pulse flex items-center justify-center">
<div class="w-12 h-12 border border-primary/60 rounded-full"></div>
</div>
</div>
<div class="absolute bottom-4 left-4 right-4 bg-black/80 backdrop-blur-md p-3 rounded-xl border border-white/10 flex justify-between items-center">
<span class="text-xs font-bold text-primary uppercase tracking-widest flex items-center gap-2">
<span class="w-2 h-2 bg-primary rounded-full animate-ping"></span> GPS Active
</span>
<a href="/map-new.html" class="text-xs font-bold text-primary flex items-center gap-1 uppercase">Open Map <span class="material-symbols-outlined text-sm">explore</span></a>
</div>
</div>
</div>
<div class="bg-white/5 rounded-[2rem] p-8 border border-white/10 flex flex-col">
<div class="flex justify-between items-center mb-8">
<h3 class="text-xl font-bold">Faction Status</h3>
<button class="text-white/40"><span class="material-symbols-outlined">more_horiz</span></button>
</div>
<div class="space-y-6 flex-1">
<div class="flex gap-4 items-center">
<div class="w-12 h-12 rounded-xl bg-card-teal/20 flex items-center justify-center text-card-teal">
<span class="material-symbols-outlined">flag</span>
</div>
<div class="flex-1">
<div class="flex justify-between">
<h4 class="font-bold text-sm" id="factionName">Faction</h4>
<span class="text-[10px] text-white/40 uppercase font-bold">ACTIVE</span>
</div>
<p class="text-xs text-white/40 mt-0.5" id="factionBonus">Team Bonus: +10% XP</p>
</div>
</div>
<div class="flex gap-4 items-center">
<div class="w-12 h-12 rounded-xl bg-card-orange/20 flex items-center justify-center text-card-orange">
<span class="material-symbols-outlined">bolt</span>
</div>
<div class="flex-1">
<div class="flex justify-between">
<h4 class="font-bold text-sm">Energy</h4>
<span class="text-[10px] text-white/40 uppercase font-bold" id="energyCount">100</span>
</div>
<p class="text-xs text-white/40 mt-0.5">Available for attacks</p>
</div>
</div>
</div>
<a href="/map-new.html" class="w-full mt-8 py-4 bg-white text-black font-extrabold rounded-2xl hover:bg-primary transition-colors uppercase tracking-widest text-sm text-center">
Expand Territory
</a>
</div>
</div>
</div>
</main>
</div>

<script>
if (!localStorage.getItem('userId')) {
  window.location.href = '/login';
}

const userId = localStorage.getItem('userId') || 1;

async function loadStats() {
  try {
    const response = await fetch(`/api/stats/${userId}`);
    const data = await response.json();
    
    document.getElementById('hexCount').textContent = data.hexes;
    document.getElementById('distanceCount').textContent = data.distance.toFixed(1);
    document.getElementById('expCount').textContent = (data.exp / 1000).toFixed(1) + 'k';
    document.getElementById('energyCount').textContent = data.energy || 100;
    
    if (data.username) {
      document.getElementById('headerUsername').textContent = data.username;
      document.getElementById('headerAvatar').textContent = data.username[0].toUpperCase();
    }
    
    if (data.faction) {
      document.getElementById('factionName').textContent = data.faction.replace('_', ' ');
      document.getElementById('headerAvatar').style.background = data.factionColor;
    }
    
    const level = Math.floor(data.exp / 100) + 1;
    document.getElementById('headerLevel').textContent = `Level ${level} Commander`;
  } catch (error) {
    console.error('Failed to load stats:', error);
  }
}

const date = new Date().toLocaleDateString('en-US', { day: '2-digit', month: 'long', year: 'numeric' });
document.getElementById('currentDate').textContent = date;

loadStats();
setInterval(loadStats, 10000);
</script>
<script src="/js/theme-toggle.js"></script>
</body>
</html>
